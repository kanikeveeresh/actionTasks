<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Account Settings - Payment Methods</title>

<style>
body{
    font-family:Arial;
    background:#f4f6f8;
    margin:0;
}

/* Top Nav */
.nav{
    background:#222;
    color:white;
    padding:15px;
    text-align:right;
}

.profile{
    cursor:pointer;
}

/* Container */
.container{
    width:400px;
    margin:30px auto;
    background:white;
    padding:20px;
    border-radius:10px;
    box-shadow:0 0 10px rgba(0,0,0,0.1);
}

button{
    padding:10px 15px;
    border:none;
    background:#4CAF50;
    color:white;
    border-radius:5px;
    cursor:pointer;
}

input,select{
    width:95%;
    padding:8px;
    margin:8px 0;
}

.hidden{
    display:none;
}

.method{
    background:#eee;
    padding:10px;
    margin:5px;
    border-radius:5px;
}
</style>
</head>

<body>

<!-- Step 1 -->
<div class="nav">
    <span class="profile" onclick="openSettings()">ðŸ‘¤ Profile</span>
</div>

<div class="container hidden" id="settings">

<h2>Settings</h2>

<!-- Step 2 & 3 -->
<button onclick="openPayments()">Payment Methods</button>

<div id="paymentsSection" class="hidden">

<h3>Payment Methods</h3>

<!-- Step 4 -->
<button onclick="showForm()">+ Add Payment Method</button>

<!-- Step 5-7 -->
<div id="formSection" class="hidden">

<select id="type">
<option value="">Select Method</option>
<option>Bank Account</option>
<option>Debit Card</option>
</select>

<input id="name" placeholder="Name on Account">

<input id="number" placeholder="Account/Card Number">

<input id="expiry" placeholder="Expiry (MM/YY) - for card">

<button onclick="addMethod()">Add</button>

</div>

<h4>Saved Methods</h4>
<div id="list"></div>

</div>

</div>

<script>
let methods=[];

function openSettings(){
    document.getElementById("settings").classList.remove("hidden");
}

function openPayments(){
    document.getElementById("paymentsSection").classList.remove("hidden");
}

function showForm(){
    document.getElementById("formSection").classList.remove("hidden");
}

function addMethod(){
    let type=document.getElementById("type").value;
    let name=document.getElementById("name").value;
    let number=document.getElementById("number").value;

    if(!type || !name || !number){
        alert("Fill all details");
        return;
    }

    // Step 8 verification
    if(confirm("Verify payment method?")){
        let data={type,name,number};
        methods.push(data);
        render();
        alert("Payment Method Added!");
    }
}

function render(){
    let list=document.getElementById("list");
    list.innerHTML="";

    methods.forEach(m=>{
        let div=document.createElement("div");
        div.className="method";
        div.innerHTML=`${m.type}<br>${m.name}<br>****${m.number.slice(-4)}`;
        list.appendChild(div);
    });
}
</script>

</body>
</html>